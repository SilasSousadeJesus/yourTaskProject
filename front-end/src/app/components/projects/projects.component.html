<div class="d-flex justify-content-between" style="margin-top: 60px;">
  <h2 class="ms-5 mt-3">Lista de Projetos</h2>
  <div class="d-flex mt-4" style="margin-right: 150px;">
    <button
    data-bs-toggle="modal"
    data-bs-target="#addProject"
    type="button" class="btn btn-primary">
    <i class="bi bi-file-plus"><h6>+</h6>
    </i></button>
  </div>
</div>


<div class="modal" tabindex="-1" id="addProject" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form style="width: 400px;" (submit)="createProject()">
          <div class="mb-3">
            <label for="name" class="form-label">Nome do projeto</label>
            <input [(ngModel)]="project.name" type="text" class="form-control" id="name"  name="name" required>
            <div *ngIf="formValidation == 'empty name fields' " class="validationError">
              <i class="bi bi-exclamation-triangle"></i> Campo de nome vazio.
            </div>
          </div>
          <div class="mb-3">
            <label for="description" class="form-label">Descrição</label>
            <textarea [(ngModel)]="project.description" type="text" class="form-control" id="description"  name="description"  required></textarea>
            <div *ngIf="formValidation == 'empty description field' " class="validationError">
              <i class="bi bi-exclamation-triangle"></i> Campo de descrição vazio.
            </div>
          </div>
          <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">salvar</button>
                <button type="button" class="btn btn-primary ms-3" routerLink="/projeto" data-bs-dismiss="modal">cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<div class="row " style="margin-bottom: 70px;">

  <div class="col-3 d-flex justify-content-around " *ngFor="let project of projects">

    <div class="card my-2" style="width: 18rem;" >
      <div class="card-body" >
        <h5 class="card-title text-center">{{project.name}}</h5>
        <p class="card-text">{{project.description}}</p>
        <div class="text-end" >
          <a class="card-link" (click)="routerTasks(project._id)">Abrir</a>
          <a class="card-link" (click)="routerEdit(project._id)">Editar</a>
          <a class="card-link" (click)="deleteProject(project._id)">Excluir</a>
        </div>
      </div>
    </div>

  </div>

</div>


